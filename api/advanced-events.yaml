paths:
  /event/subscribe:
    post:
      tags: ['Advanced Events']
      operationId: subscribe_event
      description: |-
        An API for subscribing to event notifications.
      requestBody:
        content:
          application/json:
            schema:
              $ref: '../advanced/event.yaml#/components/schemas/Event.Subscription'
      callbacks:
        event_notification:
          '{$request.body#/callbackUrl}':
            post:
              description: |-
                The event notification that will be streamed to the subscriber.
              requestBody:
                content:
                  application/json:
                    schema:
                      $ref: '../advanced/event.yaml#/components/schemas/Event'
              responses:
                '200':
                  $ref: '../result/request.yaml#/components/responses/Success'
      responses:
        '200':
          $ref: '../result/request.yaml#/components/responses/Success'
        '409':
          $ref: '../result/request.yaml#/components/responses/Conflict'
        '590':
          $ref: '../result/request.yaml#/components/responses/Fail'
        '591':
          $ref: '../result/request.yaml#/components/responses/NotSupported'

