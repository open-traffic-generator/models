openapi: 3.1.0

info:
  title: Flow results models
  version: ^0.0.0

components:
  schemas:
    Result.FlowRequest:
      description: >-
        The request to the traffic generator for flow results.
      type: object
      properties:
        flow_names:
          description: >-
            The names of flow objects to return results for.
            An empty list will return results for all flows.
          type: array
          items:
            type: string
        columns:
          description: >-
            The names of columns to return results for.
            An empty list will return all columns.
            The name column will always be included as it is the unique key.
            The following is a description of the columns:
              - name
                The name of a configured flow
              - port_tx
                The name of a configured port
              - port_rx
                The name of a configured port
              - frames_tx
                The current total number of frames transmitted
              - frames_rx
                The current total number of valid frames received
              - bytes_tx
                The current total number of bytes transmitted
              - bytes_rx
                The current total number of bytes received
              - frames_tx_rate
                The current rate of frames transmitted
              - frames_rx_rate
                The current rate of valid frames received
              - loss
                The percentage of lost frames
          type: array
          items:
            type: string
            enum:
              - name
              - port_tx
              - port_rx
              - frames_tx
              - frames_rx
              - bytes_tx
              - bytes_rx
              - frames_tx_rate
              - frames_rx_rate
              - loss
        ingress_result_names:
          description: >-
            Add any configured Flow.Pattern.ingress_result_name values
            that are to be included in the results.
            If the name is not configured then it will be excluded from the 
            Result.Flow.columns and Result.Flow.rows.
            The name in the Result.Flow.columns will be a combination of the 
            ingress_result_name and any system assigned name.
          type: array 
          items:
            type: string

    Result.Flow:
        description: >-
          A table of flow results
        type: object
        properties:
          columns:
            description: >-
              The names of columns in the Request.Flow.columns and requested.
            type: array
            items:
              type: string
          rows:
            description: >-
              A table of result values.
              Each row in rows is ordered by the columns property.
            type: array
            items:
              type: array
              items:
                type: string

