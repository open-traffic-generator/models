components:
  schemas:
    Flow.Rsvp:
      description: >-
        RSVP packet header as defined in RFC2205 and RFC3209.
        Currently only supported message type is "path".
      type: object
      properties:
        version:
          x-field-pattern:
            description: >-
              Protocol Version number. 
            format: integer
            length: 4
            default: 1
            features: [count]
          x-field-uid: 1
        flag:
          description: >-
              Flag, 0x01-0x08: Reserved.
          $ref: '#/components/schemas/Flow.RSVP.Flag'
          x-field-uid: 2
        rsvp_checksum:
          x-field-pattern:
            description: >-
              The one's complement of the one's complement sum of the message, with the checksum field replaced by zero for the purpose of computing the checksum.  
              An all-zero value means that no checksum was transmitted.
            format: checksum
            length: 16
          x-field-uid: 3
        time_to_live:
          x-field-pattern:
            description: >-
              The IP time-to-live(TTL) value with which the message was sent.
            format: integer
            length: 8
            default: 0
            features: [count]
          x-field-uid: 4
        reserved:
          x-field-pattern:
            description: >-
              Reserved 
            format: integer
            length: 8
            default: 0
            features: [count]
          x-field-uid: 5
        rsvp_length:
          x-field-pattern:
            description: >-
              The sum of the lengths of the common header and all objects included in the message.
            format: integer
            default: auto
            length: 16
            features: [auto, count]
          x-field-uid: 6
        message_type:
          description: >-
            An 8-bit number that identifies the function of the RSVP message.
            There are aound 20 message types is defined https://www.iana.org/assignments/rsvp-parameters/rsvp-parameters.xhtml#rsvp-parameters-2 .
            Among Those we are presently supporting "path"(value: 1) message type.
          $ref: '#/components/schemas/Flow.RSVP.Message'
          x-field-uid: 7
          
    Flow.RSVP.Flag:
      type: object
      properties:
        choice:
            type: string
            default: not_refresh_reduction_capable
            x-enum:
              not_refresh_reduction_capable:
                x-field-uid: 1
              refresh_reduction_capable:
                x-field-uid: 2
            x-field-uid: 1
    Flow.RSVP.Message:
      type: object
      properties:
        choice:
          type: string
          default: path
          x-enum:
            path:
              x-field-uid: 1
          x-field-uid: 1
        path:
          $ref: '#/components/schemas/Flow.RSVP.PathMessage'
          x-field-uid: 2
    Flow.RSVP.PathMessage:
      description: >-
        "path" message required the follwoing list of objects in order:
        1. SESSION
        2. RSVP_HOP
        3. TIME_VALUES
        4. EXPLICIT ROUTE 
        5. LABEL_REQUEST
        6. SESSION_ATTRIBUTE
        7. SENDER_TEMPLATE
        8. SENDER_TSPEC
        9. RECORD_ROUTE
      type: object
      properties:
        objects:
          description: >-
            "path" message required atleast SESSION, RSVP_HOP and TIME_VALUES objects.
          type: array
          minItems: 3
          items:
            $ref: '#/components/schemas/Flow.RSVP.PathObjects'
          x-field-uid: 1
    Flow.RSVP.PathObjects:
      description: >-
        Every RSVP object encapsulated in an RSVP message consists of a 32-bit word header and the object's contents.
      type: object
      properties:
        length:
          x-field-pattern:
            description: >-
              Contains the total length of the object including the object's header, measured in bytes. 
              Objects must be aligned to 32-bit words. 
            format: integer
            length: 16
            default: 4
            features: [count]
          x-field-uid: 1
        class_num:
          $ref: '#/components/schemas/Flow.RSVP.PathObjectsClass'
          x-field-uid: 2
    Flow.RSVP.PathObjectsClass:
      description: >-
            The class number is used to identify the class of an object. Defined in https://www.iana.org/assignments/rsvp-parameters/rsvp-parameters.xhtml#rsvp-parameters-4 .
            Curently supported class numbers are for "path" message type.
            "path" message:
            Supported Class numbers and it's value: SESSION: 1, RSVP_HOP: 3, TIME_VALUES: 5, EXPLICIT_ROUTE: 20, LABEL_REQUEST: 19, SESSION_ATTRIBUTE: 207, SENDER_TEMPLATE: 11, SENDER_TSPEC: 12, RECORD_ROUTE: 21.
      type: object
      required:
        - choice
      properties:
        choice:
          type: string
          x-field-uid: 1
          x-enum:
            session:
              x-field-uid: 1
            rsvp_hop:
              x-field-uid: 2
            time_values:
              x-field-uid: 3
            explicit_route:
              x-field-uid: 4
            label_request:
              x-field-uid: 5
            session_attribute:
              x-field-uid: 6
            sender_template:
              x-field-uid: 7
            sender_tspec:
              x-field-uid: 8
            record_route: 
              x-field-uid: 9
        session:
          $ref: '#/components/schemas/Flow.RSVP.PathObjectsClassSession'
          x-field-uid: 2
        rsvp_hop:
          $ref: '#/components/schemas/Flow.RSVP.PathObjectsClassRsvpHop'
          x-field-uid: 3
        time_values:
          $ref: '#/components/schemas/Flow.RSVP.PathObjectsClassTimeValues'
          x-field-uid: 4
        explicit_route:
          $ref: '#/components/schemas/Flow.RSVP.PathObjectsClassExplicitRoute'
          x-field-uid: 5
        label_request:
          $ref: '#/components/schemas/Flow.RSVP.PathObjectsClassLabelRequest'
          x-field-uid: 6
        session_attribute:
          $ref: '#/components/schemas/Flow.RSVP.PathObjectsClassSessionAttribute'
          x-field-uid: 7
        sender_template:
          $ref: '#/components/schemas/Flow.RSVP.PathObjectsClassSenderTemplate'
          x-field-uid: 8
        sender_tspec:
          $ref: '#/components/schemas/Flow.RSVP.PathObjectsClassSenderTspec'
          x-field-uid: 9
        record_route: 
          $ref: '#/components/schemas/Flow.RSVP.PathObjectsClassRecordRoute'
          x-field-uid: 10
    Flow.RSVP.PathObjectsClassSession:
      description: >-
          The body of an object corresponding to the class number and c-type.
          Currently supported c-type for SESSION object is LSP Tunnel IPv4 (7).
      type: object 
      properties:
        choice:
          type: string
          x-field-uid: 1
          default: lsp_tunnel_ipv4
          x-enum:
            lsp_tunnel_ipv4:
              x-field-uid: 1
        lsp_tunnel_ipv4:
          $ref: '#/components/schemas/Flow.RSVP.PathObjectsSessionLspTunnelIpv4'
          x-field-uid: 2

    Flow.RSVP.PathObjectsSessionLspTunnelIpv4:
      description: >-
        Class = SESSION, LSP_TUNNEL_IPv4 C-Type = 7.
      type: object
      properties:
        ipv4_tunnel_end_point_address:
          x-field-pattern:
            description: >-
              IPv4 address of the egress node for the tunnel.
            format: ipv4
            default: 0.0.0.0
            features: [count]
          x-field-uid: 1
        reserved:
          x-field-pattern:
            description: >-
              Reserved field, MUST be zero.
            format: integer
            default: 0
            length: 16
            features: [count]
          x-field-uid: 2
        tunnel_id:
          x-field-pattern:
            description: >-
              A 16-bit identifier used in the SESSION that remains constant over the life of the tunnel.
            format: integer
            default: 0
            length: 16
            features: [count]
          x-field-uid: 3
        extended_tunnel_id:
          x-field-pattern:
            description: >-
              A 32-bit identifier used in the SESSION that remains constant over the life of the tunnel. Normally set to all zeros.
              Ingress nodes that wish to narrow the scope of a SESSION to the ingress-egress pair may place their IPv4 address here as a globally unique identifier.
            format: integer
            default: 0
            length: 32
            features: [count]
          x-field-uid: 4
    Flow.RSVP.PathObjectsClassRsvpHop: 
      description: >-
        Object for RSVP_HOP class.
        Currently supported c-type is IPv4 (1).
      type: object
    Flow.RSVP.PathObjectsClassTimeValues:
      description: >-
        Object for TIME_VALUES class.
        Currently supported c-type is Type 1 Time Value (1).
      type: object
    Flow.RSVP.PathObjectsClassExplicitRoute:
      description: >-
        Object for EXPLICIT_ROUTE class.
        Currently supported c-type is Type 1 Explicit Route (1).
      type: object
    Flow.RSVP.PathObjectsClassLabelRequest:
      description: >-
        Object for LABEL_REQUEST class.
        Currently supported c-type is Without Label Range (1).
      type: object
    Flow.RSVP.PathObjectsClassSessionAttribute:
      description: >-
        Object for SESSION_ATTRIBUTE class.
        Currently supported c-type is LSP_Tunnel (1) and LSP_Tunnel (7).
      type: object
    Flow.RSVP.PathObjectsClassSenderTemplate:
      description: >-
        Object for SENDER_TEMPLATE class.
        Currently supported c-type is LSP Tunnel IPv4 (7).
      type: object
    Flow.RSVP.PathObjectsClassSenderTspec:
      description: >-
        Object for SENDER_TSPEC class.
        Currently supported c-type is int-serv (2).
      type: object
    Flow.RSVP.PathObjectsClassRecordRoute:
      description: >-
        Object for RECORD_ROUTE class.
        Currently supported c-type is Type 1 Route Record (1)
      type: object