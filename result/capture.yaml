openapi: 3.0.3
info:
  title: Capture results models
  version: ^0.0.0
components:
  schemas:
    Capture.Request:
      description: >-
        The capture result request to the traffic generator.
        Stops the port capture on the port_name and returns the capture.
      type: object
      required: [port_name]
      properties:
        port_name:
          description: >-
            The name of a port a capture is started on.
          type: string
          x-constraint:
          - '/components/schemas/Port/properties/name'
          x-field-uid: 1
        packets:
          description: >-
            Specification of which packets to be captured on the given port.
          $ref: '#/components/schemas/CaptureRequest.Packets'
          x-field-uid: 2

    CaptureRequest.Packets:
      type: object
      description: >-
        The packets to be captured on the given port.
      properties:
        choice:
          type: string
          default: all
          x-field-uid: 1
          x-enum:
            all:
              x-field-uid: 1
            slice:
              x-field-uid: 2
        slice:
          $ref: '#/components/schemas/CaptureRequest.CaptureSlice'
          x-field-uid: 2

    CaptureRequest.CaptureSlice:
      description: >-
        Packets to be captured based on specification of capture slice through start index and packet count.
      type: object
      properties:
        start:
          description: >-
            Index of the packet in the generated packet sequence from where capture would start.
          type: integer
          format: uint64
          default: 0
          x-field-uid: 1
        count:
          description: >-
            Number of packets to be captured from the start index.
          type: integer
          format: uint64
          default: 100
          x-field-uid: 2 