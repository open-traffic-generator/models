components:
  schemas:
    Device.BgpSrTePolicy:
      description: |
        Container for BGP basic segment routing traffic engineering policy 
        settings.

        This container has the following optional sub containers:
        Device.BgpSrTePolicyNextHop
        Device.BgpTunnelTlv
        Device.BgpSrTePolicyOrigin (TBD)
        Device.BgpSrTeLocalPreference (TBD)
        Device.BgpAddPath
        Device.BgpCommunity
        Device.BgpExtCommunity (TBD)
        Device.BgpASPath
        Device.BgpClusters (TBD)
      type: object
      properties:
        policy_count:
          description: |
            Number of policies per device.
            To enable policy settings set this value to 1.

            Length of any child Device.Pattern or Device.EnumPattern is 
            Device.device_count * BgpSrTePolicy.policy_count.
          type: integer
          default: 0
        policy_type:
          description: >-
            Address family indicator (AFI).
          x-pattern:
            format: enum
            enums: [ipv4, ipv6]
            default: ipv4
        distingusher:
          description: >-
            Identifies the policy in the context of (color and endpoint) tuple. 
            It is used by the SR Policy originator to make unique multiple 
            occurrences of the same SR Policy.
          x-pattern:
            format: integer
            default: 1
        color:
          description: >-
            Identifies the policy. It is used to match the color of the 
            destination prefixes to steer traffic into the SR Policy. 
          x-pattern:
            format: integer
            default: 100
        ipv4_endpoint:
          description: >-
            Specifies a single node or a set of nodes.
            It is selected on the basis of the policy_type (AFI).
          x-pattern:
            format: ipv4
            default: 0.0.0.0
        ipv6_endpoint:
          description: >-
            Specifies a single node or a set of nodes.
            It is selected on the basis of the policy_type (AFI).
          x-pattern:
            format: ipv6
            default: ::0
        next_hop:
          description: >-
            Optional next hop settings.
          $ref: './bgpsrtepolicynexthop.yaml#/components/schemas/Device.BgpSrTePolicyNextHop'
        tunnel_tlv:
          description: >-
            Optional tunnel TLV settings.
          $ref: './bgptunneltlv.yaml#/components/schemas/Device.BgpTunnelTlv'
        communities:
          description: >-
            Optional community settings.
          type: array
          items: 
            $ref: './bgpcommunity.yaml#/components/schemas/Device.BgpCommunity'
        add_path:
          description: >-
            Optional Additional Path settings.
          $ref: './bgpaddpath.yaml#/components/schemas/Device.BgpAddPath'
        as_path:
          description: >-
            Optional AS Path settings.
          $ref: './bgpaspath.yaml#/components/schemas/Device.BgpAsPath'
