components:
  schemas:
    Bgp.Capability:
      description: >-
        Configuration for BGP capability settings.
      type: object
      properties:
        ipv4_unicast:
          description: >-
            Support for the IPv4 Unicast address family.
          type: boolean
          default: true
          x-field-uid: 1
        ipv4_multicast:
          description: >-
            Support for the IPv4 Multicast address family. 
          type: boolean
          default: false
          x-field-uid: 2
        ipv6_unicast:
          description: >-
            Support for the IPv4 Unicast address family.
          type: boolean
          default: true
          x-field-uid: 3
        ipv6_multicast:
          description: >-
            Support for the IPv6 Multicast address family.
          type: boolean
          default: false
          x-field-uid: 4
        vpls:
          description: |-
            Support for VPLS as below. 
            RFC4761 - Virtual Private LAN Service (VPLS) using BGP for Auto-Discovery
            and Signaling. 
            RFC6624 - Layer 2 Virtual Private Networks using BGP for Auto-Discovery 
            and Signaling.
          type: boolean
          default: false
          x-field-uid: 5
        route_refresh:
          description: >-
            Support for the route refresh capabilities.
            Route Refresh allows the dynamic exchange of route refresh requests  and
            routing information between BGP peers and the subsequent re-advertisement  of
            the outbound or inbound routing table.
          type: boolean
          default: true
          x-field-uid: 6
        route_constraint:
          description: >-
            Supports for the route constraint capabilities.
            Route Constraint allows the advertisement of Route Target Membership  information.
            The BGP peers exchange Route Target Reachability Information,  which is
            used to build a route distribution graph.  This limits the propagation
            of VPN Network Layer Reachability Information (NLRI) between different
            autonomous systems  or distinct clusters of the same autonomous system.
            This is supported for Layer 3 Virtual Private Network scenario.
          type: boolean
          default: false
          x-field-uid: 7
        link_state_non_vpn:
          description: >-
            Support for BGP Link State for ISIS and OSPF.
          type: boolean
          default: false
          x-field-uid: 8
        link_state_vpn:
          description: >-
            Capability advertisement of BGP Link State for VPNs.
          type: boolean
          default: false
          x-field-uid: 9
        evpn:
          description: >-
            Support for the EVPN address family.
          type: boolean
          default: false
          x-field-uid: 10
        extended_next_hop_encoding:
          description: >-
            Support for extended Next Hop Encoding for Nexthop field in  IPv4 routes
            advertisement.  This allows IPv4 routes being advertised by IPv6 peers
            to  include an IPv6 Nexthop.
          type: boolean
          default: false
          x-field-uid: 11
        ipv4_multicast_vpn:
          description: >-
            Support for the IPv4 Multicast VPN address family.
          type: boolean
          default: false
          x-field-uid: 12
        ipv4_mpls_vpn:
          description: >-
            Support for the IPv4 MPLS L3VPN address family.
          type: boolean
          default: false
          x-field-uid: 13
        ipv4_mdt:
          description: >-
            Supports for IPv4 MDT address family messages.
          type: boolean
          default: false
          x-field-uid: 14
        ipv4_multicast_mpls_vpn:
          description: >-
            Support for the IPv4 Multicast VPN address family.
          type: boolean
          default: false
          x-field-uid: 15
        ipv4_unicast_flow_spec:
          description: >-
            Support for propagation of IPv4 unicast flow specification rules.
          type: boolean
          default: false
          x-field-uid: 16
        ipv4_sr_te_policy:
          description: >-
            Support for IPv4 SRTE policy.
          type: boolean
          default: false
          x-field-uid: 17
        ipv4_unicast_add_path:
          description: >-
            Support for IPv4 Unicast Add Path Capability.
          type: boolean
          default: false
          x-field-uid: 18
        ipv6_multicast_vpn:
          description: >-
            Support for the IPv6 Multicast VPN address family.
          type: boolean
          default: false
          x-field-uid: 19
        ipv6_mpls_vpn:
          description: >-
            Support for the IPv6 MPLS L3VPN address family.
          type: boolean
          default: false
          x-field-uid: 20
        ipv6_mdt:
          description: >-
            Support for IPv6 MDT address family messages.
          type: boolean
          default: false
          x-field-uid: 21
        ipv6_multicast_mpls_vpn:
          description: >-
            Support for the IPv6 Multicast VPN address family.
          type: boolean
          default: false
          x-field-uid: 22
        ipv6_unicast_flow_spec:
          description: >-
            Support for propagation of IPv6 unicast flow specification rules.
          type: boolean
          default: false
          x-field-uid: 23
        ipv6_sr_te_policy:
          description: >-
            Support for IPv6 SRTE policy.
          type: boolean
          default: false
          x-field-uid: 24
        ipv6_unicast_add_path:
          description: >-
            Support for IPv6 Unicast Add Path Capability.
          type: boolean
          default: false
          x-field-uid: 25
        mpls_lebel_capability:
          $ref: '#/components/schemas/Bgp.MPlsLabelBindingsCapabilities'
          x-field-uid: 26

    Bgp.MPlsLabelBindingsCapabilities:
      description: >-
        Container for configuring capabilities for carrying Label Information in BGP Open Message for RFC3107 and RFC8277
        for MPLS label bindings.
      type: object
      properties:
        choice:
          type: string
          description: >-
            BGP to Bind MPLS Labels to Address Prefixes as per RFC3107 or RFC8277.
            - single_label: A BGP speaker that uses Multiprotocol Extensions to carry label
              mapping information should use the Capabilities Optional Parameter,
              as defined in Capabilities Advertisement in RFC2842, to inform its peers about this capability.
              The MP_EXT Capability Code, as defined in Multiprotocol Extensions RFC2858, is used to
              advertise the (AFI, SAFI) pairs available on a particular connection.
              Reference: https://datatracker.ietf.org/doc/html/rfc8277#section-2.1 &
                          https://datatracker.ietf.org/doc/html/rfc3107#section-5.
            - multiple_labels: As RFC8277 is known as Multiple Labels Capability - A BGP
              speaker can include a Capabilities Optional Parameter in a BGP OPEN
              message. The Capabilities Optional Parameter is a triple that
              includes a one-octet Capability Code, a one-octet Capability length,
              and a variable-length Capability Value.
              Reference: https://datatracker.ietf.org/doc/html/rfc8277#section-2.1.
          default: single_label
          x-enum:
            single_label:
              x-field-uid: 1
            multiple_labels:
              x-field-uid: 2
          x-field-uid: 1
        single_label:
          $ref: '#/components/schemas/Bgp.CapabilitiesMplsSingleLabel'
          x-field-uid: 2
        multiple_labels:
          $ref: '#/components/schemas/Bgp.CapabilitiesMplsMultipleLabels'
          x-field-uid: 3

    Bgp.CapabilitiesMplsSingleLabel:
      description: >-
        Container for configuring capabilities for carrying single Label Information.
        The Capabilities Optional Parameter is a triple that includes a one-octet Capability Code, 
        a one-octet Capability length, and a variable-length Capability Value.
      type: object
      properties:
        ipv4:
          description: >-
            Advertise (AFI, SAFI) pair capability as (1, 4) in BGP Open Message.
          type: boolean
          default: true
          x-field-uid: 1
        ipv6:
          description: >-
            Advertise (AFI, SAFI) pair capability as (2, 4) in BGP Open Message.
          type: boolean
          default: true
          x-field-uid: 2

    Bgp.CapabilitiesMplsMultipleLabels:
      description: >-
        Container for configuring capabilities for multiple carrying Labels Information as per RFC8277.
        The MPLS multiple Lable capability is advertised in Optional Capability under Multiple Label Capability (code 8).
        Reference: https://datatracker.ietf.org/doc/html/rfc8277#section-2.1.
      type: object
      properties:
        ipv4_label_count:
          description: >-
            Advertise triple of the form <AFI=1, SAFI=4, Count=n> in BGP Open Message 
            where n = ipv4_mpls_count.
          type: integer
          format: uint32
          default: 2
          minimum: 2
          maximum: 255
          x-field-uid: 1
        ipv6_label_count:
          description: >-
            Advertise triple of the form <AFI=2, SAFI=4, Count=n> in BGP Open Message,
            where n = ipv4_mpls_count.
          type: integer
          format: uint32
          default: 2
          minimum: 2
          maximum: 255
          x-field-uid: 2