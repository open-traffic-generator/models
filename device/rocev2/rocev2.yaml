components:
  schemas:
    Device.RoCEv2Peer:
      description: >-
        Configuration for one or more IPv4 or IPv6 RoCEv2 Peers.
      type: object
      properties:
        ipv4_interfaces:
          description: >-
            This contains an array of references to IPv4 interfaces,  each of which
            will have list of peers to different destinations.   
          type: array
          items:
            $ref: './rocev2ipv4.yaml#/components/schemas/RoCEv2.V4Interface'
          x-field-uid: 1
        ipv6_interfaces:
          description: >-
            This contains an array of references to IPv6 interfaces,  each of which
            will have list of peers to different destinations.
          type: array
          items:
            $ref: './rocev2ipv6.yaml#/components/schemas/RoCEv2.V6Interface'
          x-field-uid: 2
    Device.RoCEv2:
      description: >-
        Configuration for RoCEv2 peer settings.
      type: object
      #required: [dg_qp_count, destination_peers, ib_mtu, name]
      properties:
        dg_qp_count:
          description: >-
            Number of Queue Pair (QP) that this device group wants to configure. Default value is 0.
          type: integer
          x-field-uid: 1
        destination_peers:
          description: >-
            Option to select peers.
          type: string
          x-field-uid: 2
        ib_mtu:
          description: >-
            InfiniBand protocol Maximum Transmission Unit (MTU) defines several fix size MTU: 256, 512, 1024, 2048 or 4096 bytes.
            RDMA write message will have payload size same as configured IB MTU. You can configure custom size also.
          type: integer
          #default: 1024
          format: uint32
          minimum: 0
          maximum: 14000
          x-field-uid: 3
        name:
          description: >-
            The name of RoCEv2 Peer
          type: string
          x-field-uid: 4
        flow_settings:
          type: array
          items:
            $ref: './flowsettings.yaml#/components/schemas/RoCEv2.FlowSettings'
          x-field-uid: 5
        # name:
        #   x-include: ../../common/common.yaml#/components/schemas/Named.Object/properties/name
        #   x-field-uid: 6
