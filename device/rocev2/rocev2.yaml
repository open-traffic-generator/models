components:
  schemas:
    Device.RoCEv2Peer:
      description: >-
        Configuration for one or more IPv4 or IPv6 RoCEv2 Peers.
      type: object
      properties:
        ipv4_interfaces:
          description: >-
            This contains an array of references to IPv4 interfaces,  each of which
            will have list of peers to different destinations.   
          type: array
          items:
            $ref: './rocev2ipv4.yaml#/components/schemas/RoCEv2.V4Interface'
          x-field-uid: 1
        ipv6_interfaces:
          description: >-
            This contains an array of references to IPv6 interfaces,  each of which
            will have list of peers to different destinations.
          type: array
          items:
            $ref: './rocev2ipv6.yaml#/components/schemas/RoCEv2.V6Interface'
          x-field-uid: 2
    Device.RoCEv2:
      description: >-
        Configuration for RoCEv2 peer settings.
      type: object
      #required: [max_num_of_qp, remote_end_point_ip_address, ib_mtu, name]
      properties:
        num_of_external_endpoints:
          description: >-
           Number of External Endpoints.
          type: integer
          x-field-uid: 1
        max_num_of_qp:
          description: >-
            Maximum number of QP per Endpoint.
          type: integer
          x-field-uid: 2
        remote_end_point_ip_address:
          description: >-
            Specify the IP address of External NIC i.e Remote End Point IP Address.
          type: string
          x-field-uid: 3
        ib_mtu:
          description: >-
            InfiniBand protocol Maximum Transmission Unit (MTU) defines several fix size MTU: 256, 512, 1024, 2048 or 4096 bytes.
            RDMA write message will have payload size same as configured IB MTU. You can configure custom size also.
          type: integer
          #default: 1024
          format: uint32
          minimum: 0
          maximum: 14000
          x-field-uid: 4
        traffic_burst_mode:
          description: >-
            Traffic Burst Mode to applied in RoCEv2 Traffic , Continuous or Fixed.
          type: string
          x-enum:
            Continuous:
              x-field-uid: 1
            Fixed:
              x-field-uid: 2
          x-field-uid: 5
        traffic_burst_count:
          description: >-
            Burst Count to applied in RoCEv2 Traffic item.
          type: integer
          #default: 1024
          format: uint32
          minimum: 0
          maximum: 16777216
          x-field-uid: 6
        name:
          description: >-
            The name of RoCEv2 Peer
          type: string
          x-field-uid: 7
        flow_settings:
          type: array
          description: >-
            This section has two views, Local End and Remote End.
            Both views have same configurations. However, the remote and local peer IP addresses are interchanged.
            This configuration allows you to configure RDMA flow over the same QP number from same source and destination.
            Default value for commands at Remote peer is set to None.
            So that by default, this remote peer does not initiate any traffic flow.
          items:
            $ref: './flowsettings.yaml#/components/schemas/RoCEv2.FlowSettings'
          x-field-uid: 8

