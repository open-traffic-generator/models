components:
  schemas:
    IsisLsps.State.Request:
      description: >- 
        The request to retrieve ISIS Link State PDU (LSP) information learned by the router.
      type: object
      properties:
        isis_router_names:
          description: >-
            The names of ISIS routers for which learned information is requested.
            An empty list will return results for all ISIS routers.
          type: array
          items:
            type: string
          x-constraint:
            - "/components/schemas/Device.IsisRouter/properties/name"
  
    IsisLsps.State:
      description: >-
        The result of ISIS LSP information that are retrieved.
      type: object
      properties:
        isis_router_name:
          description: >-
            The name of the ISIS Router.
          type: string
        lsps:
          description: >-
            One or more LSPs that are learned by this ISIS router.
          type: array
          items:
            $ref: '#/components/schemas/IsisLsp.State'

    IsisLsp.State:
      description: >-
        ISIS LSP.
      type: object
      properties:
        lsp_id:
          description: >-
            LSP ID in the format, e.g. '640000000001-00-00'.
            LSP ID consists of the System ID of a neighbor, the Pseudonode ID, and the LSP number.
            The last two bytes represent Pseudonode ID and LSP number respectively.
            A pseudonode is a logical representation of the LAN which is generated by a Designated Intermediate System (DIS)
            on a LAN segment. If one LSP exceeds the maximum LSP size then it is sent in another LSP with the LSP number incremented by one.
            A router's learned LSP gets refreshed by 'remaining_lifetime'. Then the sequence number is incremented by 1.
          type: string
        pdu_type:
          description: >-
            Link State PDU type.
          type: string
          enum: [level_1, level_2]
        remaining_lifetime:
          description: >-
            Remaining lifetime in seconds before the LSP expiration.
          type: integer
          format: int64
          minimum: 0
          maximum: 4294967295
        sequence_number:
          description: >-
            Sequence number of the LSP.
          type: integer
          format: int64
          minimum: 0
          maximum: 4294967295
        pdu_length:
          description: >-
            Total length of the LSP.
          type: integer
          minimum: 0
          maximum: 65535
        flags:
          description: >-
            LSP Type-Block flags.
          $ref: '#/components/schemas/IsisLsp.Flags'
        is_type:
          description: |-
            IS Type - bits 1 and 2 indicate the type of Intermediate System.
            1 - ( i.e. bit 1 set) Level 1 Intermediate system.
            2 - Unused value.
            3 - (i.e. bits 1 and 2 set) Level 2 Intermediate system. 
          type: integer
          minimum: 1
          maximum: 3
        tlvs:
          description: |-
            It refers to Link State PDU State TLVs container.
          $ref: '#/components/schemas/IsisLsp.Tlvs'

    IsisLsp.Tlvs:
      description: >-
        It contains the TLVs .
      type: object
      properties:
        hostname_tlvs:
          description: >-
            Array of Hostname TLV type 137 present in this LSP.
          type: array
          items:
            $ref: '#/components/schemas/IsisLsp.Hostname'
        is_reachability_tlvs:
          description: |-
            Array of IS-Reachability TLV type 2 present in this LSP.
          type: array
          items:
            $ref: '#/components/schemas/IsisLsp.IsReachability'
        extended_is_reachability_tlvs:
          description: |-
            Array of Extended IS-Reachability TLV type 22 present in this LSP.
          type: array
          items:
            $ref: '#/components/schemas/IsisLsp.ExtendedIsReachability'
        ipv4_internal_reachability_tlvs:
          description: |-
            Array of IPv4 Internal Reachability TLVs present in this LSP.
          type: array
          items:
            $ref: '#/components/schemas/IsisLsp.Ipv4InternalReachability'
        ipv4_external_reachability_tlvs:
          description: |-
            Array of IPv4 External Reachability TLVs present in this LSP.
          type: array
          items:
            $ref: '#/components/schemas/IsisLsp.Ipv4ExternalReachability'
        extended_ipv4_reachability_tlvs:
          description: |-
            Array of IPv4 Extended Reachability TLVs present in this LSP.
          type: array
          items:
            $ref: '#/components/schemas/IsisLsp.ExtendedIpv4Reachability'
        ipv6_reachability_tlvs:
          description: |-
            Array of IPv6 Reachability TLVs present in this LSP.
          type: array
          items:
            $ref: '#/components/schemas/IsisLsp.Ipv6Reachability'

    IsisLsp.Hostname:
      description: >-
        It contains Hostname for the TLV 137.
      type: object
      properties:
        hostname:
          describe: Hostname for an ISIS router.
          type: string

    IsisLsp.Flags:
      description: >-
        LSP Type flags.
      type: object
      properties:
        partition_repair:
          description: |-
            When set, the originator supports partition repair.
          type: boolean
        attached_error:
          description: |-
            When set, the originator is attached to another area using the referred metric.
          type: boolean
        attached_expense:
          description: |-
            When set, the originator is attached to another
            area using the referred metric.
          type: boolean
        attached_delay:
          description: |-
            Delay Metric - when set, the originator is attached to another
            area using the referred metric.
          type: boolean
        attached_default:
          description: |-
            Default Metric - when set, the originator is attached to another
            area using the referred metric.
          type: boolean
        overload:
          description: |-
            Overload bit - when set, the originator is overloaded, and must
            be avoided in path calculation.
          type: boolean

    IsisLsp.IsReachability:
      description: >-
        This container describes list of ISIS neighbors and attributes in IS-Reachability TLV 2.
      type: object
      properties:
        neighbors: 
          description: >-
            This container describes Intermediate System (IS) neighbors.
          type: array
          items:
            $ref: '#/components/schemas/IsisLsp.neighbor'

    IsisLsp.ExtendedIsReachability:
      description: >-
        This is list of ISIS neighbors and attributes in Extended-IS-Reachability TLV 22.
      type: object
      properties:
        neighbors: 
          description: >-
            This container describes IS neighbors.
          type: array
          items:
            $ref: '#/components/schemas/IsisLsp.neighbor'

    IsisLsp.neighbor:
      description: >-
        This contains IS neighbors.
      type: object
      properties:
        system_id:
          description: >-
            The System ID for this emulated ISIS router, e.g. "640100010000".
          type: string
          format: hex

    IsisLsp.Ipv4InternalReachability:
      description: |-
        This container defines list of IPv4 internal reachability information.
        This is advertised when the origin-type is set 'internal' in route range configurations.
      type: object
      properties:
        prefixes:
          description: >-
            Describes list of IPv4 prefixes in this TLV.
          type: array
          items:
            $ref: '#/components/schemas/IsisLsp.V4Prefix'

    IsisLsp.Ipv4ExternalReachability:
      description: |-
        This container defines list of IPv4 external reachability information.
        This is advertised when the origin-type is set 'external' in route range configurations.
      type: object
      properties:
        prefixes:
          description: >-
            Describes list of IPv4 prefixes in this TLV..
          type: array
          items:
            $ref: '#/components/schemas/IsisLsp.V4Prefix'

    IsisLsp.V4Prefix:
      description: >-
        This group defines attributes of an IPv4 standard prefix.
      type: object
      properties:
        ipv4_address:
          description: >-
            An IPv4 address.
          type: string
        prefix_length:
          description:
            The length of the IPv4 prefix.
          type: integer
        redistribution_type:
          description: |-
            Up (0)-used when a prefix is initially advertised within the ISIS L3 hierarchy, 
              and for all other prefixes in L1 and L2 LSPs. (default) 
            Down (1)-used when an L1/L2 router advertises L2 prefixes in L1 LSPs. 
            The prefixes are being advertised from a higher level (L2) down to a lower level (L1). 
          type: string
          enum: [up, down]
        default_metric:
          description: |-
            ISIS default metric value.
          type: integer
          minimum: 0
          maximum: 63
        origin_type:
          description: >-
            The origin of the advertised route-internal or external to the ISIS area.
            Options include the following: 
              Internal-for intra-area routes, through Level 1 LSPs. 
              External-for inter-area routes redistributed within L1, through Level 1 LSPs.
          type: string
          enum: [internal, external]
  
    IsisLsp.ExtendedIpv4Reachability:
      description: |-
        This container defines list of IPv4 extended reachability information.
        It is advertised when the 'wide metric' is enabled.
      type: object
      properties:
        prefixes:
          description: >-
            IPv4 prefix contained within extended reachability TLVs.
          type: array
          items:
            $ref: '#/components/schemas/IsisLsp.ExtendedV4Prefix'

    IsisLsp.ExtendedV4Prefix:
      description: >-
        This group defines attributes of an IPv4 standard prefix.
      type: object
      properties:
        ipv4_address:
          description: >-
            An IPv4 unicast address.
          type: string
          format: ipv4
        prefix_length:
          description:
            The length of the IPv4 prefix.
          type: integer
        metric:
          description: >-
            ISIS wide metric.
          type: integer
        redistribution_type:
          description: |-
            Up (0)-used when a prefix is initially advertised within the ISIS L3 hierarchy, 
              and for all other prefixes in L1 and L2 LSPs. (default) 
            Down (1)-used when an L1/L2 router advertises L2 prefixes in L1 LSPs. 
            The prefixes are being advertised from a higher level (L2) down to a lower level (L1). 
          type: string
          enum: [up, down]
        prefix_attributes:
          $ref: '#/components/schemas/IsisLsp.PrefixAttributes'
        

    IsisLsp.Ipv6Reachability:
      description: |-
        It defines list of IPv6 extended reachability information.
      type: object
      properties:
        prefixes:
          description: >-
            IPv6 prefix contained within reachability TLVs.
          type: array
          items:
            $ref: '#/components/schemas/IsisLsp.V6Prefix'

    IsisLsp.V6Prefix:
      description: >-
        It defines attributes of an IPv6 standard prefix.
      type: object
      properties:
        ipv6_address:
          description: >-
            An IPv6 address
          type: string
          format: ipv6
        prefix_length:
          description:
            The length of the IPv6 prefix.
          type: integer
        metric:
          description: >-
            ISIS wide metric.
          type: integer
        redistribution_type:
          description: |-
            Up (0)-used when a prefix is initially advertised within the ISIS L3 hierarchy, 
              and for all other prefixes in L1 and L2 LSPs. (default) 
            Down (1)-used when an L1/L2 router advertises L2 prefixes in L1 LSPs. 
            The prefixes are being advertised from a higher level (L2) down to a lower level (L1). 
          type: string
          enum: [up, down]
        origin_type:
          description: >-
            The origin of the advertised route-internal or external to the ISIS area.
            Options include the following: 
              Internal-for intra-area routes, through Level 1 LSPs. 
              External-for inter-area routes redistributed within L1, through Level 1 LSPs.
          type: string
          enum: [internal, external]
        prefix_attributes:
          $ref: '#/components/schemas/IsisLsp.PrefixAttributes'

    IsisLsp.PrefixAttributes:
      description: >-
        This contains the properties of ISIS Prefix attributes for 
        the extended IPv4 and IPv6 reachability.
        https://www.rfc-editor.org/rfc/rfc7794.html
      type: object
      properties:
        x_flag:
          description: |-
            External Prefix Flag (Bit 0)
          type: boolean
        r_flag:
          description: |-
            Re-advertisement Flag (Bit 1)
          type: boolean
        n_flag:
          description: |-
            Node Flag (Bit 2)
          type: boolean