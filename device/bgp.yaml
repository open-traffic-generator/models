components:
  schemas:
    Device.Bgp:
      x-include:
      - '../common/common.yaml#/components/schemas/Named.Object'
      x-status: under-review
      description: >-
        Container of basic emulated BGP peer settings.

        This container has the following optional sub containers.
        Device.BgpAdvanced, Device.BgpCapability, Device.BgpSrTePolicy
        
        This container has the following optional lists of containers.
        Device.Bgpv4RouteRange, Device.Bgpv6RouteRange
      type: object
      properties:
        router_id:
          description: >-
            The IP address of the emulated router
          x-pattern:
            format: ipv4
            default: 0.0.0.0
        as_type:
          x-pattern:
            description: >-
              The type of BGP autonomous system.
              External BGP is used for BGP links between two or more
              autonomous systems (ebgp)
              Internal BGP is used within a single autonomous system (ibgp).
            format: enum
            enums:
            - ibgp
            - ebgp
            default: ibgp
        as_number:
          x-pattern:
            description: >-
              Autonomous System Number (AS number or ASN)
            format: integer
            default: 1
        as_number_width:
          x-pattern:
            description: >-
              The width in bytes of the as_number values.
              Any as_number values that exceed the width MUST result in an error
            format: enum
            enums:
            - two
            - four
            default: four
        as_number_set_mode:
          x-pattern:
            description: >-
              The AS number set mode
            format: enum
            enums:
            - do_not_include_as
            - include_as_seq
            - include_as_set
            - include_as_seq_confed
            - include_as_set_confed
            - prepend_as_to_first_segment
            default: do_not_include_as          
        advanced:
          description: >-
            BGP advanced settings.
          $ref: './bgpadvanced.yaml#/components/schemas/Device.BgpAdvanced'
        capability:
          description: >-
            BGP capability settings.
          $ref: './bgpcapability.yaml#/components/schemas/Device.BgpCapability'
        sr_te_policy:
          description: >-
            Segment routing traffic engineering policy settings.
          $ref: './bgpsrtepolicy.yaml#/components/schemas/Device.BgpSrTePolicy'
        bgpv4_route_ranges:
          description: >-
            Emulated bgpv4 route ranges
          type: array
          items:
            $ref: './bgpv4routerange.yaml#/components/schemas/Device.Bgpv4RouteRange'
        bgpv6_route_ranges:
          description: >-
            Emulated bgpv6 route ranges
          type: array
          items:
            $ref: './bgpv6routerange.yaml#/components/schemas/Device.Bgpv6RouteRange'
