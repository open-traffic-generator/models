openapi: 3.1.0

info:
  title: LACP results models for LAG member
  version: ^0.0.0

components:
  schemas:
    LacpLagMember.Metrics.Request:
      description: >-
        The request to retrieve LACP per LAG member metrics/statistics.
      type: object
      properties:
        lag_names:
          description: >-
            The names of LAG (ports group) for which LACP metrics to be returned.
            An empty list will return metrics for all LAGs.
          type: array
          items:
            type: string
          x-constraint:
            - '/components/schemas/Lag/properties/name'
        lag_member_port_names:
          description: >-
            The names of LAG members (ports) for which LACP metrics to be returned.
            An empty list will return metrics for all LAG members.
          type: array
          items:
            type: string
          x-constraint:
            - '/components/schemas/Port/properties/name'
        column_names:
          description: >-
            The list of column names that the returned result set will contain.
            If the list is empty then all columns will be returned.
            The name of LAG and LAG member can not be excluded.
          type: array
          items:
            type: string
            enum:
              - lacp_packets_rx
              - lacp_packets_tx
              - lacp_rx_errors
              - activity
              - timeout
              - synchronization
              - aggregatable
              - collecting
              - distributing
              - system_id
              - oper_key
              - partner_id
              - partner_key
              - port_num
              - partner_port_num

    LacpLagMember.Metric:
      description: >-
        LACP metrics (statistics) per LAG member.
      type: object
      properties:
        lag_name:
          description: >-
            The name of a LAG (ports group) configured with LACP.
          type: string
        lag_member_port_name:
          description: >-
            The name of a LAG member (port) configured with LACP.
          type: string
        lacp_packets_rx:
          description: >-
            Number of LACPDUs received.
          type: integer
          format: int64
          minimum: 0
        lacp_packets_tx:
          description: >-
            Number of LACPDUs transmitted.
          type: integer
          format: int64
          minimum: 0
        lacp_rx_errors:
          description: >-
            Number of LACPDUs receive packet errors.
          type: integer
          format: int64
          minimum: 0
        activity:
          description: >-
            Indicates participant is active or passive.
          type: string
          enum: [active, passive]
        timeout:
          description: >-
            The timeout type (short or long) used by the participant.
          type: string
          enum: [short, long]
        synchronization:
          description: >-
            Indicates whether the participant is in-sync or out-of-sync.
          type: string
          enum: [in_sync, out_sync]
        aggregatable:
          description: >-
            A true value indicates that the participant will allow
            the link to be used as part of the aggregate.
            A false value indicates the link should be used as an 
            individual link.
          type: boolean
        collecting:
          description: >-
            If true, the participant is collecting incoming frames
            on the link, otherwise false.
          type: boolean
        distributing:
          description: >-
            When true, the participant is distributing outgoing
            frames; when false, distribution is disabled.
          type: boolean
        system_id:
          description: >-
            MAC address that defines the local system ID for the aggregate interface.
          type: string
          format: mac
        oper_key:
          description: >-
            Current operational value of the key for the aggregate interface.
          type: integer
          format: int32
        partner_id:
          description: >-
            MAC address representing the protocol partner's interface system ID.
          type: string
          format: mac
        partner_key:
          description: >-
            Operational value of the protocol partner's key.
          type: integer
          format: int32
        port_num:
          description: >-
            Port number of the local (actor) aggregation member.
          type: integer
          format: int32
        partner_port_num:
          description: >-
            Port number of the partner (remote) port for this member port.
          type: integer
          format: int32
