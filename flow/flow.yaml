components:
  schemas:
    Flow:
      x-include: 
      - '../common/common.yaml#/components/schemas/Named.Object'
      description: |- 
        A high level data plane traffic flow.
      type: object
      required: [tx_rx]
      properties:
        tx_rx:
          description: |-
            The transmit and receive endpoints.
          $ref: './endpoint.yaml#/components/schemas/Flow.TxRx'
        packet:
          description: |-
            The header is a list of traffic protocol headers.
            
            The order of traffic protocol headers assigned to the list is the
            order they will appear on the wire.

            In the case of an empty list the keyword/value of minItems: 1 
            indicates that an implementation MUST provide at least one 
            Flow.Header object.

            The default value for the Flow.Header choice property is ethernet 
            which will result in an implementation by default providing at least 
            one ethernet packet header.
          type: array
          minItems: 1
          items:
            $ref: './packet-headers/header.yaml#/components/schemas/Flow.Header'
        size:
          description: |-
            The size of the packets.
          $ref: './size.yaml#/components/schemas/Flow.Size'
        rate:
          description: |-
            The transmit rate of the packets.
          $ref: './rate.yaml#/components/schemas/Flow.Rate'
        duration:
          description: |-
            The transmit duration of the packets.
          $ref: './duration.yaml#/components/schemas/Flow.Duration'
        metrics:
          description: |-
            Flow metrics. 
          $ref: './metrics.yaml#/components/schemas/Flow.Metrics'
    
