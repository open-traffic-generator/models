components:
  schemas:
    IsisIIHs.State.Request:
      description: >-
        The request to retrieve ISIS IIH information exchanged by the ISIS routers.
      type: object
      properties:
        isis_router_names:
          description: >-
            The names of ISIS routers for which learned information is requested.
            An empty list will return results of IIH States for all ISIS routers.
          type: array
          items:
            type: string
          x-constraint:
          - "/components/schemas/Device.IsisRouter/properties/name"
          x-field-uid: 1

    IsisIIHs.State:
      description: >-
        The result of ISIS IIH information that are exchanged.
      type: object
      properties:
        isis_router_name:
          description: >-
            The name of the ISIS Router.
          type: string
          x-field-uid: 1
        states:
          description: >-
            State of this router.
          type: array
          items:
            $ref: '#/components/schemas/IsisLocalIIH.State'
          x-field-uid: 2
        neighbors_states:
          description: >-
            One or more Neigbors that are learned by this ISIS router.
          type: array
          items:
            $ref: '#/components/schemas/IsisNeighborIIH.State'
          x-field-uid: 3

    IsisLocalIIH.State:
      description: >-
        A ISIS Neigbor Information.
      type: object
      properties:
        level_type:
          description: |-
            This indicates whether Neighbor IS-IS router is participating in Level-1 (L1), 
            Level-2 (L2) or both L1 and L2 domains on this interface.
          type: string
          x-field-uid: 1
          x-enum:
            level_1:
              x-field-uid: 1
            level_2:
              x-field-uid: 2
            level_1_2:
              x-field-uid: 3
        hold_timer:
          description: >-
            Hold timer is in the IIH PDU.
          type: integer
          format: uint32
          x-field-uid: 2    
        restarting_status:
          description: >- 
            Reference to Restarting Information.
          $ref: '#/components/schemas/IsisIIH.LocalRestartStatus'
          x-field-uid: 3
        tlvs:
          description: |-
            It refers to IIH PDU TLVs container.
          $ref: '#/components/schemas/IsisIIH.Tlvs'
          x-field-uid: 4
    
    IsisNeighborIIH.State:
      description: >-
        A ISIS Neigbor Information.
      type: object
      properties:
        system_id:
          description: >-
            System ID of a neighbor in the format, e.g. '640000000001'.
          type: string
          x-field-uid: 1
        level_type:
          description: |-
            This indicates whether Neighbor IS-IS router is participating in Level-1 (L1), 
            Level-2 (L2) or both L1 and L2 domains on this interface.
          type: string
          x-field-uid: 2
          x-enum:
            level_1:
              x-field-uid: 1
            level_2:
              x-field-uid: 2
            level_1_2:
              x-field-uid: 3
        hold_timer:
          description: >-
            Hold timer is in the IIH PDU.
          type: integer
          format: uint32
          x-field-uid: 3     
        restarting_status:
          description: >- 
            Reference to Restarting Information.
          $ref: '#/components/schemas/IsisIIH.NeighborRestartStatus'
          x-field-uid: 4
        tlvs:
          description: |-
            It refers to IIH PDU TLVs container.
          $ref: '#/components/schemas/IsisIIH.Tlvs'
          x-field-uid: 5

    IsisIIH.LocalRestartStatus:
      description: >-
       This contains the Restarting/Starting/Running state of of this router.
      type: object
      properties:
        state:
          description: >-
            Current State of this router when the Restarting Tlv is present in IIH PDU.
            - starting: Is in Starting state when Restarting Tlv has been sent with SA bit set.
            - running: Is in Running state when Restarting Tlv is not present or Restarting Tlv has been sent with SA or RR bits unset.
            - restarting: Is in Restarting state when Restarting Tlv has been sent with RR bits set.
          type: string
          x-field-uid: 3
          x-enum:
            running:
              x-field-uid: 1
            starting:
              x-field-uid: 2
            restarting:
              x-field-uid: 3
    
    IsisIIH.NeighborRestartStatus:
      description: >-
       This contains the Restarting/Starting/Running state of a neighbor router.
      type: object
      properties:
        state:
          description: >-
            Current State of Neighbor router when the Restarting Tlv is present in IIH PDU.
            - starting: Is in Starting state when Restarting Tlv has been received with SA bit set.
            - running: Is in Running state when Restarting Tlv is not present or Restarting Tlv has been received with SA or RR bits unset.
            - restarting: Is in Restarting state when Restarting Tlv has been received with RR bits set.
          type: string
          x-field-uid: 1
          x-enum:
            running:
              x-field-uid: 1
            starting:
              x-field-uid: 2
            restarting:
              x-field-uid: 3
        last_attempt_status:
          description: >-
            This object holds the information of last Graceful Restart status provied
            the neigbhor restart happens at least once. 
          type: string
          x-field-uid: 2
          x-enum:
            succeeded:
              x-field-uid: 1
            failed:
              x-field-uid: 2
        succeeded:
          description: >-
            Populated this object when the Graceful Restarting attempt of a neighbor is successful.
          $ref: '#/components/schemas/IsisIIH.NeighborRestartSucceded'
          x-field-uid: 3
        failed:
          description: >-
            This flag is set when the Restarting Router has failed to restart within T3 time.
          type: boolean
          default: false
          x-field-uid: 4

    IsisIIH.NeighborRestartSucceded:
      description: >-
        When neighbor router is Restarting/Starting the Graceful Restart status is successful.
      type: object
      properties:
        lsdb_syncup_time:
          description: >-
            The time in second is taken to sync up the LSDB by the Restarting Neighbor.
            The time is counted by a Helper router when the first Restart TLV with RR bit is unset after 
            the recent RR bit set in the previous IIH PDU and till it receives the first LSP(s) from the Neighbor Router.
          type: integer
          format: uint32
          x-field-uid: 1
        last_adjacency_bring_up_time:
          description: >-
            The time (in second) is taken to bring up adjacency by the Restarting Neighbor.
            The time is counted by a Helper router when the Restart TLV with RR bit set in a IIH PDU is received
            and till it receives the Restart TLV with RR bit unset in a IIH PDU from the Neighbor Router.
          type: integer
          format: uint32
          x-field-uid: 2

    IsisIIH.Tlvs:
      description: >-
        This contains the list of TLVs present in a IIH PDU.
      type: object
      properties:
        restart_tlv:
          description: >-
            Restart Tlv.
          $ref: '#/components/schemas/IsisIIH.RestartTlv'
          x-field-uid: 1
        
    IsisIIH.RestartTlv:
      description: >-
        Container of Restart Tlv.
      type: object
      properties:
        flags:
          description: >-
            1 Octen Restart Flags 
          $ref: '#/components/schemas/IsisIIHRestart.Flags'
          x-field-uid: 1
        remaining_time:
          description: >-
            Remaining Holding Time (in seconds).
          type: integer
          format: uint32
          x-field-uid: 2
        restarting_neighbor_id:
          description: >-
           Restarting Neighbor's System ID in the format, e.g. '640000000001'.
          type: string
          x-field-uid: 3
      
    IsisIIHRestart.Flags:
      description: >-
        LSP Type flags.
      type: object
      properties:
        rr_bit:
          description: |-
            Restart Request bit.
          type: boolean
          x-field-uid: 1
        ra_bit:
          description: |-
            Restart Acknowledgement.
          type: boolean
          x-field-uid: 2
        sa_bit:
          description: |-
            Suppress adjacency advertisement.
          type: boolean
          x-field-uid: 3
        pr_bit:
          description: |-
            Restart is planned.
          type: boolean
          x-field-uid: 4
        pa_bit:
          description: |-
            Planned restart acknowledgement.
          type: boolean
          x-field-uid: 5