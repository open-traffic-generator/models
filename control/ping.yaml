openapi: 3.1.0

info:
  title: Ping models
  description: >-
    All ping schemas
  version: ^0.0.0

components:
  schemas:
    Ping:
      type: object
      properties:
        choice:
          description: IPv4 or IPv6 ping.
          type: string
          enum: [ipv4, ipv6]
          default: ipv4
        ipv4:
          $ref: '#/components/schemas/Ping.Ipv4'
        ipv6:
          $ref: '#/components/schemas/Ping.Ipv6'

    Ping.Ipv4:
      type: object
      properties:
        src_name:
          description: >-
            A base IPv4 interface
          type: string
          x-constraint:
          - '/components/schemas/Device.Ipv4Base/properties/name'
        dst_ip:
          description: >-
            IPv4 address to ping
          type: string
          format: ipv4
    
    Ping.Ipv6:
      type: object
      properties:
        src_name:
          description: >-
            A base IPv6 interface
          type: string
          x-constraint:
          - '/components/schemas/Device.Ipv6Base/properties/name'
        dst_ip:
          description: >-
              IPv6 addresses to ping.
          type: string
          format: ipv6

    Ping.Request:
      description: >-
        Ping request details
      type: object
      properties:
        endpoints:
          description:
            Array of ping requests
          type: array
          items:
            $ref: '#/components/schemas/Ping'

    Ping.Response:
      description: >-
        A container for ping responses.
      type: object
      properties:
        responses:
          type: array
          items:
            $ref: '#/components/schemas/Response'

    Response:
      type: object
      properties:
        src_name:
          description: >-
            The name of the source IPv4 or IPv6 interface from which ping was sent.
          type: string
          x-constraint:
            - '/components/schemas/Device.Ipv4Base/properties/name'
            - '/components/schemas/Device.Ipv6Base/properties/name'
        dst_ip:
          description: >-
            Destination address.
          type: string
        result:
          description: >-
            Result of the ping request.
          type: string
          enum:
          - success
          - failure
          default: failure