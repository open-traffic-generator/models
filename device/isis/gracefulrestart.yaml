components:
  schemas:
    Isis.GracefulRestart:
      description: >-
        Contains IS-IS Graceful configuration parameters.
        https://datatracker.ietf.org/doc/html/rfc5306
      type: object
      properties:
        choice:
          description: |-
            Choice of Graceful Restart mode.
            - normal_mode: The emulated IS-IS router sends to the neighbor router (DUT) an IIH containing a Restart TLV with the RR (Restart Request) bit unset.
            - starting_mode: The emulated IS-IS router is in the "Starting" mode. 
                It sends to the neighbor router (DUT) an IIH containing a Restart TLV with the SA (Suppress Adjacency Advertisement) bit set.
            - graceful_restart: The emulated IS-IS router is in the unplanned "Restarting" mode.
                It sends to the neighbor router (DUT) an IIH containing a Restart TLV with the RR (Restart Request) bit set.
            - helper_mode: The emulated IS-IS router is acting as the "Helper" for the DUT that is restarting. 
                It acknowledges the Restart TLV sent by the DUT by sending an IIH containing a Restart TLV with the RA (Restart Acknowledgment) bit set.
          type: string
          default: normal_mode
          x-field-uid: 1
          x-enum:
            normal_mode:
              x-field-uid: 1
            starting_mode:
              x-field-uid: 2
            graceful_restart_mode:
              x-field-uid: 3
            helper_mode:
              x-field-uid: 4
        restart_time:
          description: >-
            This is the estimated duration (in seconds) it will take for the
            IS-IS session to be re-established after a start/restart.
          type: integer
          format: uint32
          maximum: 4096
          default: 30
          maximum: 1
          x-field-uid: 2