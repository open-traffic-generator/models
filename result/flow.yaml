openapi: 3.1.0

info:
  title: Flow results models
  version: ^0.0.0

components:
  schemas:
    Result.FlowRequest:
      description: >-
        The request to the traffic generator for flow results.
      type: object
      properties:
        flow_names:
          description: >-
            The names of flow objects to return results for.
            An empty list will return results for all flows.
          type: array
          items:
            type: string
            x-constraint:
              - "/components/schemas/Flow/properties/name"
        ingress_result_names:
          description: >-
            Add any configured Flow.Pattern.ingress_result_name values
            that are to be included in the results.
            If the name is not configured then it will be excluded from the 
            Result.Flow.columns and Result.Flow.rows.
            The name in the Result.Flow.columns will be a combination of the 
            ingress_result_name and any system assigned name.
          type: array
          items:
            type: string

    Result.Flow:
      type: object
      properties:
        name:
          description: >-
            The name of a configured flow
          type: string
        transmit_state:
          description: >-
            The state of the flow
            started, stopped, paused
          type: string
        port_tx:
          description: >-
            The name of a configured port
          type: string
        port_rx:
          description: >-
            The name of a configured port
          type: string
        frames_tx:
          description: >-
            The current total number of frames transmitted
          type: number
        frames_rx:
          description: >-
            The current total number of valid frames received
          type: number
        bytes_tx:
          description: >-
            The current total number of bytes transmitted
          type: number
        bytes_rx:
          description: >-
            The current total number of bytes received
          type: number
        frames_tx_rate:
          description: >-
            The current rate of frames transmitted
          type: float
        frames_rx_rate:
          description: >-
            The current rate of valid frames received
          type: float
        loss:
          description: >-
            The percentage of lost frames
          type: float
        additionalProperties:
          description: >-
            Any ingress results will appear as name/value pairs here.
