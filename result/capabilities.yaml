components:
  schemas:
    Capabilities.Request:
      description: |-
        Request to traffic generator for supported capabilities.
        An implementation supporting capabilities API should support ability to return meanigful information 
        even when no attributes are explicitly exposed in the capabilities request.
      type: object
      properties:
        port_type:
          $ref: '#/components/schemas/Capabilities.PortType'          
          x-field-uid: 1
        request_type:
          description: |- 
            If included_paths is set , this indicates that the user is interested in know about the objects and attributes 
            supported by the implementation on its endpoints in an heirarchial manner starting from the root or user specified sub-root of the full object heirarchy.
            If excluded_paths is set , this indicates that the user is interested in know about the objects and attributes 
            specifically NOT supported by the implementation on its endpoints in an heirarchial manner starting from the root or user specified sub-root of the full object heirarchy.
            Note that if the implementation itself is supporting an older version of models, it is possible that for excluded_paths request, it will not be able to return objects and attributes
            added in later versions of the model at minimum.
          type: string
          default: included_paths 
          x-enum: 
            included_paths:
              x-field-uid: 1
            excluded_paths:
              x-field-uid: 2
          x-field-uid: 2
        starting_root:
          description: |-
            The starting point of the hierarchy from where user is requesting for included/excluded capabilities.By default, the included/excluded objects/actions and attributes of the entire hierarchy is
            provided. The starting_root should always be of the generic format `/<node1>/<node2>/..../<node-n>[/<attribute[/choice/<enum value of choice attribute >]]` where node-x is a valid child object of node-(x-1) and
            optional `attribute` is a child attribute of node-n i.e. it can also be used to request for providing included or excluded information about a specific attribute or value of a leaf choice attribute. 
            e.g. a) To know related included or excluded attributes for BGP only , the starting_root  should be set as /set_config/devices/bgp ; 
                 b) To know whether IPv4 ping is supported or not , the starting_root should be set as /set_control_action/protocol/ipv4/ping
          type: string
          default : "/"
          x-field-uid: 3
    Capabilities.Response:
      description: |-
        Container for Capabiities Response from the traffic generator implementation.
      type: object
      properties:          
        per_port_type_capabilities:
          description: |-            
            Implementations should try to compress the returned capabilities information in terms of the following:
            1) If the implementations support multiple types of port_types with different capabilities but is able to deduce that the current deployment can only support one or a sub-set of these port-types,
              it should return the capabilties only of the sub-set of port_types supported by the current deployment of the implementation to which the request is made, unless specifically requested for.
            2) If the request_type is of included_paths , it should include only the top-level nodes under which all supported objects and attributes are supported.
              However, if only some of the attributes or child objects are supported under a node in the hierarchy , it should explicitly include all those child objects , specifically excluding the unsupported ones.
            3) If the request_type is of excluded_paths , it should include only the top-level nodes under which all supported objects and attributes are unsupported.
              However, if only some of the attributes or child objects are unsupported under a node in the hierarchy , it should explicitly include all those child objects , specifically excluding the supported ones.
          type: array
          items:
            $ref: '#/components/schemas/Capabilities.PortTypeCapability'
          x-field-uid: 1
    Capabilities.PortTypeCapability:
      description: |-
        Capabilities supported by one specific port-type supported by the implementation.
        If a specific port_type is requested, only that port_type should be included in the response. 
        If no specific port_type is requested, information on all supported port_types in context of current deployment should be returned.
        The same port_type should not be returned more than once in the Capabilities response.
        The array of paths contain the actual list of supported compressed paths of the object model that are supported or not supported by the port_type for which 
        the information is being returned , depending on whether the request_type is included_paths or excluded_paths .
      type: object 
      properties:
        port_type:
          $ref: '#/components/schemas/Capabilities.PortType'          
          x-field-uid: 1
        request_type:
          description: >- 
            If request_type is set in the request, that should be returned in this field . Otherwise , the default value of request_type (included_paths) , should be set.          
          type: string
          x-enum: 
            included_paths:
              x-field-uid: 1
            excluded_paths:
              x-field-uid: 2
          x-field-uid: 2
        starting_root:
          description: >-
            The starting_root in the request should be copied into this field in the response. If no starting_root is include , this field should be set to '/' , indicating the root 
            of the entire model hierarchy.
          type: string          
          x-field-uid: 3
        paths:
          description: >-
            The complete list of object and attribute paths that provide the user with the full set of included or excluded capabilties for the specific port_type for which the capabilities are being
            returned.
          type: array
          items:
            $ref: '#/components/schemas/Capabilities.Path'
          x-field-uid: 4
    Capabilities.Path:
      description: |-
        A path indicating one specific object and all its children OR leaf attribute OR  a specific value of leaf 'choice' field of a leaf object of the model
        hierarchy that is supported or not supported by a specific port_type , depending on whether the request_type is included_paths or excluded_path.        
      type: object
      properties:
        path:
          description: |
            A path indicating one specific object and all its children, one specific attribute at a leaf of the model hierachy or the specific value of 'choice' value at the leaf of the model
            hierarchy that is supported or not supported by a specific port_type , depending on whether the request_type is included_paths or excluded_path.
            The path string should always be of the generic format `/<node1>/<node2>/..../<node-n>[/<attribute[/choice/<enum value of choice attribute >]]` where node-x is a valid child object of node-(x-1) and
            optional `attribute` is a child attribute of node-n .
          type: string
          x-field-uid: 1
    Capabilities.PortType:
      description: >-
          The information regarding the unique PortType for which the included or excluded capabilities are being returned.
      type: object
      properties:
        value:
          description: >-
            An unique string in the context of a specific open-traffic-generator that denotes a specific type of group of test ports with same set of capabilties.
            e.g. 'ixia-c' could be the port_type.value for the reference ixia-c implementation. This name should be distinct and easily distinguishable by user of the test implementation 
            adhering to this open-traffic-generator model. 
          type: string
          x-field-uid: 1
    

            
        