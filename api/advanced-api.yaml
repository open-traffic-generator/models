paths:
  /advanced/config:
    post:
      tags: ['Advanced']
      operationId: set_advanced_config
      description: |-
        An API that extends the base Traffic Generator configuration with 
        advanced feature configuration.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '../advanced/config.yaml#/components/schemas/Advanced.Config'
      responses:
        '200':
          $ref: '../result/request.yaml#/components/responses/Success'
        '409':
          $ref: '../result/request.yaml#/components/responses/Conflict'
        '590':
          $ref: '../result/request.yaml#/components/responses/Fail'
        '591':
          $ref: '../result/request.yaml#/components/responses/NotSupported'

  /advanced/metrics:
    post:
      tags: ['Advanced']
      operationId: get_advanced_metrics
      description: |-
        An API that retrieves advanced metrics.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '../advanced/metrics.yaml#/components/schemas/AdvancedMetrics.Request'
      responses:
        '200':
          description: |-
            Response from traffic generator for chosen metrics
          content:
            application/json:
              schema:
                $ref: '../advanced/metrics.yaml#/components/schemas/AdvancedMetrics.Response'
        '409':
          $ref: '../result/request.yaml#/components/responses/Conflict'
        '590':
          $ref: '../result/request.yaml#/components/responses/Fail'
        '591':
          $ref: '../result/request.yaml#/components/responses/NotSupported'

  /advanced/analytics:
    post:
      tags: ['Advanced']
      operationId: get_advanced_analytics
      description: |-
        An API that retrieves advanced analytics.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '../advanced/analytics.yaml#/components/schemas/AdvancedAnalytics.Request'
      responses:
        '200':
          description: |-
            Advanced analytics response
          content:
            application/json:
              schema:
                $ref: '../advanced/analytics.yaml#/components/schemas/AdvancedAnalytics.Response'
        '409':
          $ref: '../result/request.yaml#/components/responses/Conflict'
        '590':
          $ref: '../result/request.yaml#/components/responses/Fail'
        '591':
          $ref: '../result/request.yaml#/components/responses/NotSupported'

  /event/subscribe:
    post:
      tags: ['Advanced']
      operationId: subscribe_event
      description: |-
        An API for subscribing to event notifications.
      requestBody:
        content:
          application/json:
            schema:
              $ref: '../advanced/event.yaml#/components/schemas/Event.Subscription'
      callbacks:
        event_notification:
          '{$request.body#/callbackUrl}':
            post:
              description: |-
                The event notification that will be streamed to the subscriber.
              requestBody:
                content:
                  application/json:
                    schema:
                      $ref: '../advanced/event.yaml#/components/schemas/Event'
              responses:
                '200':
                  $ref: '../result/request.yaml#/components/responses/Success'
      responses:
        '200':
          $ref: '../result/request.yaml#/components/responses/Success'
        '409':
          $ref: '../result/request.yaml#/components/responses/Conflict'
        '590':
          $ref: '../result/request.yaml#/components/responses/Fail'
        '591':
          $ref: '../result/request.yaml#/components/responses/NotSupported'


