components:
  schemas:
    Interface.Active:
      type: object
      properties:
        active:
          description: >-
            If enabled means that this part of the configuration including any
            active 'children' nodes will be advertised to peer. 
            If disabled, this means that though config is present, it is not
            taking any part of the test but can be activated at run-time to
            advertise just this part of the configuration to the peer.
          type: boolean
          default: true

    Interface:
      x-include: 
      - '../common/common.yaml#/components/schemas/Named.Object'
      description: >-
        A container for emulated interfaces and protocol devices.
      type: object
      required: [container_name]
      properties:
        container_name: 
          description: >-
            The unique name of a Port or Lag object that will contain the 
            emulated interfaces and/or protocol devices.
          type: string
          x-constraint:
          - '/components/schemas/Port/properties/name'
          - '/components/schemas/Lag/properties/name' 
        choice: 
          description: |-
            ethernet - This is a layer 2 interface defined by unique Mac address and optional vlans.
            loopback_ipv4  - This is a layer 3 interface with Ipv4 address connected to layer 2 interface, example ethernet.
            loopback_ipv6  - This is a layer 3 interface with Ipv6 address connected to layer 2 interface, example ethernet.
          type: string
          enum: 
          - ethernet
          - loopback_ipv4
          - loopback_ipv6
          default: ethernet
        ethernet:
          description: >-
            The ethernet stack.
          $ref: './ethernet.yaml#/components/schemas/Interface.Ethernet'
        loopback_ipv4:
          type: object
          description: >-
            loopback ipv4 attached to one ethernet stack.
          $ref: './ethernet.yaml#/components/schemas/Interface.LoopbackIpv4'
        loopback_ipv6:
          description: >-
            loopback ipv6 attached to one ethernet stack.
          $ref: './ethernet.yaml#/components/schemas/Interface.LoopbackIpv6'
          

