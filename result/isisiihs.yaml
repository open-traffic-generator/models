components:
  schemas:
    IsisIIHs.State.Request:
      description: >-
        The request to retrieve ISIS IIH information exchanged by the ISIS routers.
      type: object
      properties:
        isis_router_names:
          description: >-
            The names of ISIS routers for which learned information is requested.
            An empty list will return results of IIH States for all ISIS routers.
          type: array
          items:
            type: string
          x-constraint:
          - "/components/schemas/Device.IsisRouter/properties/name"
          x-field-uid: 1

    IsisIIHs.State:
      description: >-
        The result of ISIS IIH information that are exchanged.
      type: object
      properties:
        isis_router_name:
          description: >-
            The name of the ISIS Router.
          type: string
          x-field-uid: 1
        neighbors_states:
          description: >-
            One or more Neigbors that are learned by this ISIS router.
          type: array
          items:
            $ref: '#/components/schemas/IsisNeighborIIH.State'
          x-field-uid: 3

    IsisNeighborIIH.State:
      description: >-
        A ISIS Neigbor Information.
      type: object
      properties:
        system_id:
          description: >-
            System ID of a neighbor in the format, e.g. '640000000001'.
          type: string
          x-field-uid: 1
        network_type:
          description: >-
            The type of network link. 
          type: string
          default: broadcast
          x-field-uid: 2
          x-enum:
            broadcast:
              x-field-uid: 1
            point_to_point:
              x-field-uid: 2
        level_type:
          description: |-
            This indicates whether Neighbor IS-IS router is participating in Level-1 (L1), 
            Level-2 (L2) or both L1 and L2 domains on this interface.
          type: string
          x-field-uid: 3
          x-enum:
            level_1:
              x-field-uid: 1
            level_2:
              x-field-uid: 2
            level_1_2:
              x-field-uid: 3
        hold_timer:
          description: >-
            Hold timer is in the IIH PDU.
          type: integer
          format: uint32
          x-field-uid: 4     
        neigbhor_restarting_status:
          description: >- 
            Reference to Restarting Information.
          $ref: '#/components/schemas/IsisIIH.NeighborRestartStatus'
          x-field-uid: 5
        tlvs:
          description: |-
            It refers to IIH PDU TLVs container.
          $ref: '#/components/schemas/IsisIIH.Tlvs'
          x-field-uid: 6

    IsisIIH.LocalRestartStatus:
      description: >-
        When this router is Restarting/Starting the Graceful Restart status will be available.
      type: object
      properties:
        state:
          description: >-
            Current State of this router when the Restarting Tlv is present in IIH PDU.
            - starting: Is in Starting state when Restarting Tlv has been sent with SA bit set.
            - running: Is in Running state when Restarting Tlv is not present or Restarting Tlv has been sent with SA or RR bits unset.
            - restarting: Is in Restarting state when Restarting Tlv has been sent with RR bits set.
          type: string
          x-field-uid: 3
          x-enum:
            running:
              x-field-uid: 1
            starting:
              x-field-uid: 2
            restarting:
              x-field-uid: 3
        last_adjacency_bring_up_time:
          description: >-
            The time (in second) is taken to bring up adjacency after the the Restart
          type: integer
          format: uint32
          x-field-uid: 4
        last_lsdb_syncup_time:
          description: >-
            The time (in second) is actually taken to synchronize the LSDBs of all devices of the same level. By this time,
            router has received all CSNP(s) and LSP(s) from the neighbo(s).
            This value can be maximum of T2 timer value. Level-1 and Level-2 LSDBs maintain their respective T2 timers.
          type: integer
          format: uint32
          x-field-uid: 5
        last_gr_attempt_status:
          description: >-
            If the T3 timer expired, that is Gressful Restart has been failed otherwise succeeded.
          type: boolean
          x-field-uid: 6
    
    IsisIIH.NeighborRestartStatus:
      description: >-
        When neighbor router is Restarting/Starting the Graceful Restart status will be available.
      type: object
      properties:
        state:
          description: >-
            Current State of Neighbor router when the Restarting Tlv is present in IIH PDU.
            - starting: Is in Starting state when Restarting Tlv has been received with SA bit set.
            - running: Is in Running state when Restarting Tlv is not present or Restarting Tlv has been received with SA or RR bits unset.
            - restarting: Is in Restarting state when Restarting Tlv has been received with RR bits set.
          type: string
          x-field-uid: 3
          x-enum:
            running:
              x-field-uid: 1
            starting:
              x-field-uid: 2
            restarting:
              x-field-uid: 3
        last_lsdb_syncup_time:
          description: >-
            The time in second is taken to sync up the LSDB by the Restarting Neighbor.
            The time is counted by a Helper router when the Restart TLV with RR bit set in a IIH PDU is received
            and till it receives the LSP(s) from the Neighbor Router.
          type: integer
          format: uint32
          x-field-uid: 4
        last_adjacency_bring_up_time:
          description: >-
            The time (in second) is taken to bring up adjacency by the Restarting Neighbor.
            The time is counted by a Helper router when the Restart TLV with RR bit set in a IIH PDU is received
            and till it receives the Restart TLV with RR bit unset in a IIH PDU from the Neighbor Router.
          type: integer
          format: uint32
          x-field-uid: 5
        last_gr_attempt_status:
          description: >-
            If the LSP(s) are not received by the Remaining Time, in Restarting TLV with RA bit set, by this helper router 
            then the Neigbhor Gressful Restart has been failed otherwise succeeded.
          type: boolean
          x-field-uid: 6

    IsisIIH.Tlvs:
      description: >-
        This contains the list of TLVs present in a IIH PDU.
      type: object
      properties:
        restart_tlv:
          description: >-
            Restart Tlv.
          $ref: '#/components/schemas/IsisIIH.RestartTlv'
          x-field-uid: 1
        
    IsisIIH.RestartTlv:
      description: >-
        Container of Restart Tlv.
      type: object
      properties:
        flags:
          description: >-
            1 Octen Restart Flags 
          $ref: '#/components/schemas/IsisIIHRestart.Flags'
          x-field-uid: 1
        remaining_time:
          description: >-
            Remaining Holding Time (in seconds).
          type: integer
          format: uint32
          x-field-uid: 2
        restarting_neighbor_id:
          description: >-
           Restarting Neighbor's System ID in the format, e.g. '640000000001'.
          type: string
          x-field-uid: 3
      
    IsisIIHRestart.Flags:
      description: >-
        LSP Type flags.
      type: object
      properties:
        rr_bit:
          description: |-
            Restart Request bit.
          type: boolean
          x-field-uid: 1
        ra_bit:
          description: |-
            Restart Acknowledgement.
          type: boolean
          x-field-uid: 2
        sa_bit:
          description: |-
            Suppress adjacency advertisement.
          type: boolean
          x-field-uid: 3
        pr_bit:
          description: |-
            Restart is planned.
          type: boolean
          x-field-uid: 4
        pa_bit:
          description: |-
            Planned restart acknowledgement.
          type: boolean
          x-field-uid: 5